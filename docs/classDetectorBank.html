<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>A Hopf, Skip and a Jump: DetectorBank Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">A Hopf, Skip and a Jump
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classDetectorBank-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DetectorBank Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Use multiple detectors to find note onsets at given frequencies (with multithreading).  
 <a href="classDetectorBank.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for DetectorBank:</div>
<div class="dyncontent">
<div class="center"><img src="classDetectorBank__coll__graph.png" border="0" usemap="#DetectorBank_coll__map" alt="Collaboration graph"/></div>
<map name="DetectorBank_coll__map" id="DetectorBank_coll__map">
<area shape="rect" id="node2" href="classProfileManager.html" title="profilemanager.h " alt="" coords="5,5,115,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDetectorBank_1_1AbsZ__params.html">AbsZ_params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to pass absZ thread parameters to a worker thread.  <a href="structDetectorBank_1_1AbsZ__params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDetectorBank_1_1detector__components.html">detector_components</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metaparameters for a detector.  <a href="structDetectorBank_1_1detector__components.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDetectorBank_1_1GetZ__params.html">GetZ_params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to pass getZ thread parameters to a worker thread.  <a href="structDetectorBank_1_1GetZ__params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aeebad17a3b2bd334119756533e32fe3d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a> { <br />
&#160;&#160;<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3daa915f0b307c69e3ff71c10d526b77d8c">central_difference</a> = 1, 
<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3dabd8715ea98ecdaea0e73ab4f0a8e2a9e">runge_kutta</a> = 2, 
<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3daaf75437a2241a42633e8b8440c4a154c">freq_unnormalized</a> = 1 &lt;&lt; 8, 
<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3da58b2b0ba7928f8573ceffaaf55b9bf3b">search_normalized</a> = 2 &lt;&lt; 8, 
<br />
&#160;&#160;<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3da3d88320863661ce9ee917b5f628890d6">amp_unnormalized</a> = 1 &lt;&lt; 16, 
<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3da9c453c30b87783aaa2ed7caf9fb0f007">amp_normalized</a> = 2 &lt;&lt; 16, 
<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3dafbddbcecf27e675461af09dbb8511e54">defaults</a> = runge_kutta | freq_unnormalized | amp_normalized
<br />
 }<tr class="memdesc:aeebad17a3b2bd334119756533e32fe3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify numerical and normalisation methods for this detector bank.  <a href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aeebad17a3b2bd334119756533e32fe3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf5d0f8c5f9f39a9ce79c8a123131ce3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aaf5d0f8c5f9f39a9ce79c8a123131ce3">DetectorBank</a> (const std::string &amp;profile, const inputSample_t *inputBuffer, const std::size_t inputBufferSize)</td></tr>
<tr class="memdesc:aaf5d0f8c5f9f39a9ce79c8a123131ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> from archived parameters.  <a href="#aaf5d0f8c5f9f39a9ce79c8a123131ce3">More...</a><br /></td></tr>
<tr class="separator:aaf5d0f8c5f9f39a9ce79c8a123131ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f15a3acba26f6411e878e04a0a9489"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aa3f15a3acba26f6411e878e04a0a9489">DetectorBank</a> (const parameter_t <a class="el" href="classDetectorBank.html#a3aea05e97e66d6d37299fcfc7a83dc03">sr</a>, const inputSample_t *inputBuffer, const std::size_t inputBufferSize, std::size_t numThreads, const parameter_t *freqs=<a class="el" href="classDetectorBank.html#a7f9f84923a06ca3bdc45cca31134ceff">EDO12_pf</a>, parameter_t *<a class="el" href="classDetectorBank.html#a6ca555749375643c8167ae1aaffc8e2f">bw</a>=nullptr, const std::size_t numDetectors=<a class="el" href="classDetectorBank.html#a91d35c314e416d9070b979848212d914">EDO12_pf_size</a>, <a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a> <a class="el" href="classDetectorBank.html#a2832324505836c8acc419b8d34aa1682">features</a>=Features::defaults, parameter_t damping=0.0001, const parameter_t <a class="el" href="classDetectorBank.html#a0c9dc987508a637f19660412eeb1ed0f">gain</a>=25.0)</td></tr>
<tr class="memdesc:aa3f15a3acba26f6411e878e04a0a9489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>.  <a href="#aa3f15a3acba26f6411e878e04a0a9489">More...</a><br /></td></tr>
<tr class="separator:aa3f15a3acba26f6411e878e04a0a9489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa441ae894a5df343a51777f3219e9b3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aa441ae894a5df343a51777f3219e9b3b">setInputBuffer</a> (const inputSample_t *inputBuffer, const std::size_t inputBufferSize)</td></tr>
<tr class="memdesc:aa441ae894a5df343a51777f3219e9b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the input, without recreating the detector bank.  <a href="#aa441ae894a5df343a51777f3219e9b3b">More...</a><br /></td></tr>
<tr class="separator:aa441ae894a5df343a51777f3219e9b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416bb9650c4fc16f7e1a451099526eaf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf">getZ</a> (discriminator_t *frames, std::size_t chans, std::size_t numFrames, const std::size_t startChan=0)</td></tr>
<tr class="memdesc:a416bb9650c4fc16f7e1a451099526eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next numFrames of detector bank output.  <a href="#a416bb9650c4fc16f7e1a451099526eaf">More...</a><br /></td></tr>
<tr class="separator:a416bb9650c4fc16f7e1a451099526eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7c0cc32a2d725bf9663b3a2e6365f9"><td class="memItemLeft" align="right" valign="top">result_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a3a7c0cc32a2d725bf9663b3a2e6365f9">absZ</a> (result_t *absFrames, std::size_t absChans, const std::size_t absNumFrames, discriminator_t *frames, std::size_t maxThreads=0) const</td></tr>
<tr class="memdesc:a3a7c0cc32a2d725bf9663b3a2e6365f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take z-frames and fill a given array of the same dimensions (absFrames) with their absolute values.  <a href="#a3a7c0cc32a2d725bf9663b3a2e6365f9">More...</a><br /></td></tr>
<tr class="separator:a3a7c0cc32a2d725bf9663b3a2e6365f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434f76740e76a69deb53df8e3c086f9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a434f76740e76a69deb53df8e3c086f9f">seek</a> (long int offset)</td></tr>
<tr class="memdesc:a434f76740e76a69deb53df8e3c086f9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set input sample at which to start the detection.  <a href="#a434f76740e76a69deb53df8e3c086f9f">More...</a><br /></td></tr>
<tr class="separator:a434f76740e76a69deb53df8e3c086f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f038611e8c38403a10b3180da76a24"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#ae2f038611e8c38403a10b3180da76a24">tell</a> (void) const</td></tr>
<tr class="memdesc:ae2f038611e8c38403a10b3180da76a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the index of current input sample.  <a href="#ae2f038611e8c38403a10b3180da76a24">More...</a><br /></td></tr>
<tr class="separator:ae2f038611e8c38403a10b3180da76a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313a2aed1f0c8b89fadf7ba9d41209bd"><td class="memItemLeft" align="right" valign="top">parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a313a2aed1f0c8b89fadf7ba9d41209bd">getSR</a> (void) const</td></tr>
<tr class="memdesc:a313a2aed1f0c8b89fadf7ba9d41209bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the sample rate associated with this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>.  <a href="#a313a2aed1f0c8b89fadf7ba9d41209bd">More...</a><br /></td></tr>
<tr class="separator:a313a2aed1f0c8b89fadf7ba9d41209bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d9230ad9df9f69037d99bb6e9d0de7"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a68d9230ad9df9f69037d99bb6e9d0de7">getChans</a> (void) const</td></tr>
<tr class="memdesc:a68d9230ad9df9f69037d99bb6e9d0de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of detectors currently maintained by this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>.  <a href="#a68d9230ad9df9f69037d99bb6e9d0de7">More...</a><br /></td></tr>
<tr class="separator:a68d9230ad9df9f69037d99bb6e9d0de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4145c2173465a57e0c1e7ea75b9e57df"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a4145c2173465a57e0c1e7ea75b9e57df">getBuflen</a> (void) const</td></tr>
<tr class="memdesc:a4145c2173465a57e0c1e7ea75b9e57df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out the total number of samples currently available.  <a href="#a4145c2173465a57e0c1e7ea75b9e57df">More...</a><br /></td></tr>
<tr class="separator:a4145c2173465a57e0c1e7ea75b9e57df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224aaf028b6b260e99bd3846ca6a8479"><td class="memItemLeft" align="right" valign="top">parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a224aaf028b6b260e99bd3846ca6a8479">getW</a> (std::size_t ch) const</td></tr>
<tr class="memdesc:a224aaf028b6b260e99bd3846ca6a8479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the frequency of a given channel's <a class="el" href="classAbstractDetector.html">detector</a>.  <a href="#a224aaf028b6b260e99bd3846ca6a8479">More...</a><br /></td></tr>
<tr class="separator:a224aaf028b6b260e99bd3846ca6a8479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15839da3fc4a478894db346a4c4e9041"><td class="memItemLeft" align="right" valign="top">parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a15839da3fc4a478894db346a4c4e9041">getFreqIn</a> (std::size_t ch) const</td></tr>
<tr class="memdesc:a15839da3fc4a478894db346a4c4e9041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the input frequency of a given channel's <a class="el" href="classAbstractDetector.html">detector</a>.  <a href="#a15839da3fc4a478894db346a4c4e9041">More...</a><br /></td></tr>
<tr class="separator:a15839da3fc4a478894db346a4c4e9041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac894f21ea77495143f9f537936fd6c42"><td class="memItemLeft" align="right" valign="top"><a id="ac894f21ea77495143f9f537936fd6c42"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#ac894f21ea77495143f9f537936fd6c42">toXML</a> (void) const</td></tr>
<tr class="memdesc:ac894f21ea77495143f9f537936fd6c42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return description of the detectorbank serialised in XML form. <br /></td></tr>
<tr class="separator:ac894f21ea77495143f9f537936fd6c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c23d7c47abac443b96246ac5bcfd907"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a5c23d7c47abac443b96246ac5bcfd907">fromXML</a> (std::string xml)</td></tr>
<tr class="memdesc:a5c23d7c47abac443b96246ac5bcfd907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state of the detectorbank according to a previously serialised XML description.  <a href="#a5c23d7c47abac443b96246ac5bcfd907">More...</a><br /></td></tr>
<tr class="separator:a5c23d7c47abac443b96246ac5bcfd907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd74a98af7a948e22e71ca7b67d87a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#acfd74a98af7a948e22e71ca7b67d87a4">saveProfile</a> (std::string name)</td></tr>
<tr class="memdesc:acfd74a98af7a948e22e71ca7b67d87a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the current profile so that a <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> can be constructed conveniently in future.  <a href="#acfd74a98af7a948e22e71ca7b67d87a4">More...</a><br /></td></tr>
<tr class="separator:acfd74a98af7a948e22e71ca7b67d87a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a57ceff82dd2739e3770c3430c12971cb"><td class="memItemLeft" align="right" valign="top"><a id="a57ceff82dd2739e3770c3430c12971cb"></a>
static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a57ceff82dd2739e3770c3430c12971cb">solverMask</a> { 0xff }</td></tr>
<tr class="memdesc:a57ceff82dd2739e3770c3430c12971cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit mask for specifying the solver method. <br /></td></tr>
<tr class="separator:a57ceff82dd2739e3770c3430c12971cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28923e69d75a35fa2098c4ab9f7146f9"><td class="memItemLeft" align="right" valign="top"><a id="a28923e69d75a35fa2098c4ab9f7146f9"></a>
static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a28923e69d75a35fa2098c4ab9f7146f9">freqNormalizationMask</a> { 0xff &lt;&lt; 8 }</td></tr>
<tr class="memdesc:a28923e69d75a35fa2098c4ab9f7146f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit mask for specifying the frequency normalisation method. <br /></td></tr>
<tr class="separator:a28923e69d75a35fa2098c4ab9f7146f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f9335a705c97bc065585b87150d0fa"><td class="memItemLeft" align="right" valign="top"><a id="aa7f9335a705c97bc065585b87150d0fa"></a>
static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aa7f9335a705c97bc065585b87150d0fa">ampNormalizationMask</a> { 0xff &lt;&lt; 16 }</td></tr>
<tr class="memdesc:aa7f9335a705c97bc065585b87150d0fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit mask for specifying the amplitude normalisation method. <br /></td></tr>
<tr class="separator:aa7f9335a705c97bc065585b87150d0fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a13849104fb1caf34b4cfef21766564eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a13849104fb1caf34b4cfef21766564eb">amplify</a> (const inputSample_t *&amp;signal, std::size_t signalSize, const parameter_t <a class="el" href="classDetectorBank.html#a0c9dc987508a637f19660412eeb1ed0f">gain</a>)</td></tr>
<tr class="memdesc:a13849104fb1caf34b4cfef21766564eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a gain to the inputBuffer.  <a href="#a13849104fb1caf34b4cfef21766564eb">More...</a><br /></td></tr>
<tr class="separator:a13849104fb1caf34b4cfef21766564eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfc4d71cf9e1ed8e38dc69721a64edf"><td class="memItemLeft" align="right" valign="top"><a id="a4cfc4d71cf9e1ed8e38dc69721a64edf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>worker</b> (int id)</td></tr>
<tr class="separator:a4cfc4d71cf9e1ed8e38dc69721a64edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a00f3cab8aa319295a9fdc89f6dabf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a1a00f3cab8aa319295a9fdc89f6dabf9">getZDelegate</a> (void *args)</td></tr>
<tr class="memdesc:a1a00f3cab8aa319295a9fdc89f6dabf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform one thread's worth of work on the given channels.  <a href="#a1a00f3cab8aa319295a9fdc89f6dabf9">More...</a><br /></td></tr>
<tr class="separator:a1a00f3cab8aa319295a9fdc89f6dabf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa08cebbf84e16be403bde6338dfa6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aaaa08cebbf84e16be403bde6338dfa6d">stringToFeatures</a> (const std::string &amp;desc)</td></tr>
<tr class="memdesc:aaaa08cebbf84e16be403bde6338dfa6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>'s features from a human-readable string using featuresToStringMap.  <a href="#aaaa08cebbf84e16be403bde6338dfa6d">More...</a><br /></td></tr>
<tr class="separator:aaaa08cebbf84e16be403bde6338dfa6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa768e16ee779664495158937b8acbb41"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aa768e16ee779664495158937b8acbb41">featuresToString</a> (void) const</td></tr>
<tr class="memdesc:aa768e16ee779664495158937b8acbb41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a human-readable string describing this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>'s features using featuresToStringMap.  <a href="#aa768e16ee779664495158937b8acbb41">More...</a><br /></td></tr>
<tr class="separator:aa768e16ee779664495158937b8acbb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2f1df71fac7942afd6713a6510e33e"><td class="memTemplParams" colspan="2">template&lt;class Archive &gt; </td></tr>
<tr class="memitem:abc2f1df71fac7942afd6713a6510e33e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#abc2f1df71fac7942afd6713a6510e33e">save</a> (Archive &amp;archive) const</td></tr>
<tr class="memdesc:abc2f1df71fac7942afd6713a6510e33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the relevant properties of the detector bank to an archive.  <a href="#abc2f1df71fac7942afd6713a6510e33e">More...</a><br /></td></tr>
<tr class="separator:abc2f1df71fac7942afd6713a6510e33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183f50bd00c2b0f883fe728d1454cf27"><td class="memTemplParams" colspan="2">template&lt;class Archive &gt; </td></tr>
<tr class="memitem:a183f50bd00c2b0f883fe728d1454cf27"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a183f50bd00c2b0f883fe728d1454cf27">load</a> (Archive &amp;archive)</td></tr>
<tr class="memdesc:a183f50bd00c2b0f883fe728d1454cf27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the relevant properties of the detector bank to an archive.  <a href="#a183f50bd00c2b0f883fe728d1454cf27">More...</a><br /></td></tr>
<tr class="separator:a183f50bd00c2b0f883fe728d1454cf27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aeb294eb8d3cf70d6862906edb5480a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a6aeb294eb8d3cf70d6862906edb5480a">setDBComponents</a> (const parameter_t *frequencies, const parameter_t *bandwidths, const std::size_t numDetectors)</td></tr>
<tr class="memdesc:a6aeb294eb8d3cf70d6862906edb5480a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the <a class="el" href="structDetectorBank_1_1detector__components.html" title="Metaparameters for a detector. ">detector_components</a> required for each detector in the detector bank.  <a href="#a6aeb294eb8d3cf70d6862906edb5480a">More...</a><br /></td></tr>
<tr class="separator:a6aeb294eb8d3cf70d6862906edb5480a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a396d9d3171f7f9b3c4b6cf0737a2dc99"><td class="memItemLeft" align="right" valign="top"><a id="a396d9d3171f7f9b3c4b6cf0737a2dc99"></a>
std::vector&lt; std::unique_ptr&lt; <a class="el" href="classAbstractDetector.html">AbstractDetector</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a396d9d3171f7f9b3c4b6cf0737a2dc99">detectors</a></td></tr>
<tr class="memdesc:a396d9d3171f7f9b3c4b6cf0737a2dc99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detectors to be run by this detector bank. <br /></td></tr>
<tr class="separator:a396d9d3171f7f9b3c4b6cf0737a2dc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1622e30e6f42e2413b1bad887808df8c"><td class="memItemLeft" align="right" valign="top"><a id="a1622e30e6f42e2413b1bad887808df8c"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a1622e30e6f42e2413b1bad887808df8c">inBufSize</a></td></tr>
<tr class="memdesc:a1622e30e6f42e2413b1bad887808df8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the current audio input buffer. <br /></td></tr>
<tr class="separator:a1622e30e6f42e2413b1bad887808df8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f2f44866f128adf98e60d9187957ed"><td class="memItemLeft" align="right" valign="top"><a id="af8f2f44866f128adf98e60d9187957ed"></a>
const inputSample_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#af8f2f44866f128adf98e60d9187957ed">inBuf</a></td></tr>
<tr class="memdesc:af8f2f44866f128adf98e60d9187957ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current input buffer. <br /></td></tr>
<tr class="separator:af8f2f44866f128adf98e60d9187957ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8612b33a76ca2713c62e74998e7930"><td class="memItemLeft" align="right" valign="top"><a id="a7e8612b33a76ca2713c62e74998e7930"></a>
std::unique_ptr&lt; <a class="el" href="classThreadPool.html">ThreadPool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a7e8612b33a76ca2713c62e74998e7930">threadPool</a></td></tr>
<tr class="memdesc:a7e8612b33a76ca2713c62e74998e7930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread manager for concurrent sections. <br /></td></tr>
<tr class="separator:a7e8612b33a76ca2713c62e74998e7930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87584d740c20766fcbae283798e7236"><td class="memItemLeft" align="right" valign="top"><a id="af87584d740c20766fcbae283798e7236"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#af87584d740c20766fcbae283798e7236">currentSample</a></td></tr>
<tr class="memdesc:af87584d740c20766fcbae283798e7236"><td class="mdescLeft">&#160;</td><td class="mdescRight">How far along the input for next read. <br /></td></tr>
<tr class="separator:af87584d740c20766fcbae283798e7236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab034bc889be2b730002e21c7190485db"><td class="memItemLeft" align="right" valign="top"><a id="ab034bc889be2b730002e21c7190485db"></a>
parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#ab034bc889be2b730002e21c7190485db">d</a></td></tr>
<tr class="memdesc:ab034bc889be2b730002e21c7190485db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detector damping factor. <br /></td></tr>
<tr class="separator:ab034bc889be2b730002e21c7190485db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aea05e97e66d6d37299fcfc7a83dc03"><td class="memItemLeft" align="right" valign="top"><a id="a3aea05e97e66d6d37299fcfc7a83dc03"></a>
parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a3aea05e97e66d6d37299fcfc7a83dc03">sr</a></td></tr>
<tr class="memdesc:a3aea05e97e66d6d37299fcfc7a83dc03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operating sample rate. <br /></td></tr>
<tr class="separator:a3aea05e97e66d6d37299fcfc7a83dc03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2832324505836c8acc419b8d34aa1682"><td class="memItemLeft" align="right" valign="top"><a id="a2832324505836c8acc419b8d34aa1682"></a>
<a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a2832324505836c8acc419b8d34aa1682">features</a></td></tr>
<tr class="memdesc:a2832324505836c8acc419b8d34aa1682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detector method &amp; normalistion. <br /></td></tr>
<tr class="separator:a2832324505836c8acc419b8d34aa1682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ca555749375643c8167ae1aaffc8e2f"><td class="memItemLeft" align="right" valign="top"><a id="a6ca555749375643c8167ae1aaffc8e2f"></a>
parameter_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a6ca555749375643c8167ae1aaffc8e2f">bw</a></td></tr>
<tr class="memdesc:a6ca555749375643c8167ae1aaffc8e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of bandwidths. <br /></td></tr>
<tr class="separator:a6ca555749375643c8167ae1aaffc8e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9dc987508a637f19660412eeb1ed0f"><td class="memItemLeft" align="right" valign="top"><a id="a0c9dc987508a637f19660412eeb1ed0f"></a>
parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a0c9dc987508a637f19660412eeb1ed0f">gain</a></td></tr>
<tr class="memdesc:a0c9dc987508a637f19660412eeb1ed0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audio input gain to be applided. <br /></td></tr>
<tr class="separator:a0c9dc987508a637f19660412eeb1ed0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe080a9fd51ac198be0f252742cab6d"><td class="memItemLeft" align="right" valign="top"><a id="aabe080a9fd51ac198be0f252742cab6d"></a>
std::unique_ptr&lt; inputSample_t[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#aabe080a9fd51ac198be0f252742cab6d">gainBuf</a></td></tr>
<tr class="memdesc:aabe080a9fd51ac198be0f252742cab6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a gain is applied to the input signal, this pointer refers to the locally allocated buffer containing the amplified signal and inBuf is set to the same address. <br /></td></tr>
<tr class="separator:aabe080a9fd51ac198be0f252742cab6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ebf84c48ccec1b0c7c230c605d369b"><td class="memItemLeft" align="right" valign="top"><a id="a57ebf84c48ccec1b0c7c230c605d369b"></a>
std::vector&lt; <a class="el" href="structDetectorBank_1_1detector__components.html">detector_components</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a57ebf84c48ccec1b0c7c230c605d369b">dbComponents</a></td></tr>
<tr class="memdesc:a57ebf84c48ccec1b0c7c230c605d369b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of <a class="el" href="structDetectorBank_1_1detector__components.html" title="Metaparameters for a detector. ">detector_components</a> describing each <a class="el" href="classAbstractDetector.html" title="Base class for detectors using different numerical methods. ">AbstractDetector</a> in the vector detectors. <br /></td></tr>
<tr class="separator:a57ebf84c48ccec1b0c7c230c605d369b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7642fdadf22a316099017bc3d8739c92"><td class="memItemLeft" align="right" valign="top"><a id="a7642fdadf22a316099017bc3d8739c92"></a>
parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a7642fdadf22a316099017bc3d8739c92">modF</a></td></tr>
<tr class="memdesc:a7642fdadf22a316099017bc3d8739c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frequency above which the signal should be modulated. <br /></td></tr>
<tr class="separator:a7642fdadf22a316099017bc3d8739c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a8f069f3919297938de18148d253f2da7"><td class="memItemLeft" align="right" valign="top"><a id="a8f069f3919297938de18148d253f2da7"></a>
static const std::map&lt; int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a8f069f3919297938de18148d253f2da7">featuresToStringMap</a></td></tr>
<tr class="memdesc:a8f069f3919297938de18148d253f2da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Printable string representations of the flags in the Features enum Use the provided routines through preference to produce a human-readable readable format, as they will deal with combinations of flags. <br /></td></tr>
<tr class="separator:a8f069f3919297938de18148d253f2da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9f84923a06ca3bdc45cca31134ceff"><td class="memItemLeft" align="right" valign="top"><a id="a7f9f84923a06ca3bdc45cca31134ceff"></a>
static const parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a7f9f84923a06ca3bdc45cca31134ceff">EDO12_pf</a> []</td></tr>
<tr class="memdesc:a7f9f84923a06ca3bdc45cca31134ceff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard tuning set for a 12EDO piano keyboard. <br /></td></tr>
<tr class="separator:a7f9f84923a06ca3bdc45cca31134ceff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d35c314e416d9070b979848212d914"><td class="memItemLeft" align="right" valign="top"><a id="a91d35c314e416d9070b979848212d914"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a91d35c314e416d9070b979848212d914">EDO12_pf_size</a></td></tr>
<tr class="memdesc:a91d35c314e416d9070b979848212d914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of standard 12EDO piano keyboard. <br /></td></tr>
<tr class="separator:a91d35c314e416d9070b979848212d914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e86fca8fbd47bcf7210c6a8484bf721"><td class="memItemLeft" align="right" valign="top"><a id="a0e86fca8fbd47bcf7210c6a8484bf721"></a>
static <a class="el" href="classProfileManager.html">ProfileManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a0e86fca8fbd47bcf7210c6a8484bf721">profileManager</a></td></tr>
<tr class="memdesc:a0e86fca8fbd47bcf7210c6a8484bf721"><td class="mdescLeft">&#160;</td><td class="mdescRight">The profile manager responsible for loading and saving detectorbank properties. <br /></td></tr>
<tr class="separator:a0e86fca8fbd47bcf7210c6a8484bf721"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a10a64eaea4a8d208847c32350f09fd85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#a10a64eaea4a8d208847c32350f09fd85">makeDetectors</a> (const std::size_t numDetectors, const parameter_t mu, const parameter_t <a class="el" href="classDetectorBank.html#ab034bc889be2b730002e21c7190485db">d</a>, const parameter_t <a class="el" href="classDetectorBank.html#a3aea05e97e66d6d37299fcfc7a83dc03">sr</a>, const <a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a> <a class="el" href="classDetectorBank.html#a2832324505836c8acc419b8d34aa1682">features</a>, const parameter_t <a class="el" href="classDetectorBank.html#a0c9dc987508a637f19660412eeb1ed0f">gain</a>)</td></tr>
<tr class="memdesc:a10a64eaea4a8d208847c32350f09fd85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility routine to make the appropriate detectors and tune them according to the required feature set.  <a href="#a10a64eaea4a8d208847c32350f09fd85">More...</a><br /></td></tr>
<tr class="separator:a10a64eaea4a8d208847c32350f09fd85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab4d5e9783dd027934f5c469637aaacdd"><td class="memItemLeft" align="right" valign="top"><a id="ab4d5e9783dd027934f5c469637aaacdd"></a>
std::map&lt; int, std::unique_ptr&lt; inputSample_t[]&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#ab4d5e9783dd027934f5c469637aaacdd">input_pool</a></td></tr>
<tr class="memdesc:ab4d5e9783dd027934f5c469637aaacdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping of ratio of requested frequency to the maximum used detector frequency for this solver and normalization method. <br /></td></tr>
<tr class="separator:ab4d5e9783dd027934f5c469637aaacdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab59fe3afca2697ea2ae98ccdb7e1ee40"><td class="memItemLeft" align="right" valign="top"><a id="ab59fe3afca2697ea2ae98ccdb7e1ee40"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDetectorBank.html#ab59fe3afca2697ea2ae98ccdb7e1ee40">auto_bw</a></td></tr>
<tr class="memdesc:ab59fe3afca2697ea2ae98ccdb7e1ee40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> created its own array of zeros for bandwidth? <br /></td></tr>
<tr class="separator:ab59fe3afca2697ea2ae98ccdb7e1ee40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab2f44cbb59a08132f4c843e5225bba0e"><td class="memItemLeft" align="right" valign="top"><a id="ab2f44cbb59a08132f4c843e5225bba0e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>cereal::access</b></td></tr>
<tr class="separator:ab2f44cbb59a08132f4c843e5225bba0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Use multiple detectors to find note onsets at given frequencies (with multithreading). </p>

<p class="definition">Definition at line <a class="el" href="detectorbank_8h_source.html#l00025">25</a> of file <a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aeebad17a3b2bd334119756533e32fe3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeebad17a3b2bd334119756533e32fe3d">&#9670;&nbsp;</a></span>Features</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">DetectorBank::Features</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify numerical and normalisation methods for this detector bank. </p>
<p>Please see <a class="el" href="FeaturesExplained.html">DetectorBank Features</a> for more information. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3daa915f0b307c69e3ff71c10d526b77d8c"></a>central_difference&#160;</td><td class="fielddoc"><p>Central-difference. </p>
</td></tr>
<tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3dabd8715ea98ecdaea0e73ab4f0a8e2a9e"></a>runge_kutta&#160;</td><td class="fielddoc"><p>Fourth order Runge-Kutta. </p>
</td></tr>
<tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3daaf75437a2241a42633e8b8440c4a154c"></a>freq_unnormalized&#160;</td><td class="fielddoc"><p>Without frequency normalisation. </p>
</td></tr>
<tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3da58b2b0ba7928f8573ceffaaf55b9bf3b"></a>search_normalized&#160;</td><td class="fielddoc"><p>Iteratively adjust response. </p>
</td></tr>
<tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3da3d88320863661ce9ee917b5f628890d6"></a>amp_unnormalized&#160;</td><td class="fielddoc"><p>Without amplitude normalisation. </p>
</td></tr>
<tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3da9c453c30b87783aaa2ed7caf9fb0f007"></a>amp_normalized&#160;</td><td class="fielddoc"><p>Scale real and imaginary parts of the response. </p>
</td></tr>
<tr><td class="fieldname"><a id="aeebad17a3b2bd334119756533e32fe3dafbddbcecf27e675461af09dbb8511e54"></a>defaults&#160;</td><td class="fielddoc"><p>Default is Runge-Kutta, unnormalised frequency, normalised amplitude. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="detectorbank_8h_source.html#l00037">37</a> of file <a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaf5d0f8c5f9f39a9ce79c8a123131ce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5d0f8c5f9f39a9ce79c8a123131ce3">&#9670;&nbsp;</a></span>DetectorBank() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DetectorBank::DetectorBank </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>profile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const inputSample_t *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>inputBufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> from archived parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">profile</td><td>The name of the profile to read from the archive </td></tr>
    <tr><td class="paramname">inputBuffer</td><td>Audio input </td></tr>
    <tr><td class="paramname">inputBufferSize</td><td>Length of audio input </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::string</td><td>Profile 'profile' not found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3f15a3acba26f6411e878e04a0a9489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f15a3acba26f6411e878e04a0a9489">&#9670;&nbsp;</a></span>DetectorBank() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DetectorBank::DetectorBank </td>
          <td>(</td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>sr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const inputSample_t *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>inputBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t *&#160;</td>
          <td class="paramname"><em>freqs</em> = <code><a class="el" href="classDetectorBank.html#a7f9f84923a06ca3bdc45cca31134ceff">EDO12_pf</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameter_t *&#160;</td>
          <td class="paramname"><em>bw</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>numDetectors</em> = <code><a class="el" href="classDetectorBank.html#a91d35c314e416d9070b979848212d914">EDO12_pf_size</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a>&#160;</td>
          <td class="paramname"><em>features</em> = <code>Features::defaults</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameter_t&#160;</td>
          <td class="paramname"><em>damping</em> = <code>0.0001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>gain</em> = <code>25.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sr</td><td>Sample rate of audio. (This must be 44100 or 48000.) </td></tr>
    <tr><td class="paramname">inputBuffer</td><td>Audio input </td></tr>
    <tr><td class="paramname">inputBufferSize</td><td>Length of audio input </td></tr>
    <tr><td class="paramname">numThreads</td><td>Number of threads to execute concurrently to determine the detector outputs. Passing a value of less than 1 causes the number of threads to be set according to the number of reported CPU cores </td></tr>
    <tr><td class="paramname">freqs</td><td>Array of frequencies for the detector bank </td></tr>
    <tr><td class="paramname">bw</td><td>Array of bandwidths for each detector. If nullptr, minimum bandwidth detetors will be constructed </td></tr>
    <tr><td class="paramname">numDetectors</td><td>Length of the freqs and bandwidths arrays </td></tr>
    <tr><td class="paramname">features</td><td>Numerical method (runge_kutta or central_difference), freqency normalisation (freq_unnormalized or search_normalized) and amplitude normalisation (amp_unnormalized or amp_normalized). Default is runge_kutta|freq_unnormalized|amp_normalized. See <a class="el" href="FeaturesExplained.html">DetectorBank Features</a> for more information. </td></tr>
    <tr><td class="paramname">damping</td><td>Damping for all detectors </td></tr>
    <tr><td class="paramname">gain</td><td>Audio input gain to be applied. (Default value of 25 is recommended in order to keep the numbers used in the internal calculations within a sensible range.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::string</td><td>Sample rate should be 44100 or 48000 </td></tr>
    <tr><td class="paramname">std::string</td><td>Central difference can only be used for minimum bandwidth detectors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3a7c0cc32a2d725bf9663b3a2e6365f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a7c0cc32a2d725bf9663b3a2e6365f9">&#9670;&nbsp;</a></span>absZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">result_t DetectorBank::absZ </td>
          <td>(</td>
          <td class="paramtype">result_t *&#160;</td>
          <td class="paramname"><em>absFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>absChans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>absNumFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">discriminator_t *&#160;</td>
          <td class="paramname"><em>frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>maxThreads</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take z-frames and fill a given array of the same dimensions (absFrames) with their absolute values. </p>
<p>Also returns the maximum value in absFrames. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">absFrames</td><td>Output array </td></tr>
    <tr><td class="paramname">absChans</td><td>Height of the output array </td></tr>
    <tr><td class="paramname">absNumFrames</td><td>Length of the input array </td></tr>
    <tr><td class="paramname">frames</td><td>Input array of complex z values </td></tr>
    <tr><td class="paramname">maxThreads</td><td>The number of threads used to perform the calculations. 0 (the default) causes the value used when constructing the <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> to be used. If only a small number of samples are to be converted, it might help to force single-thread operation because the abs() function is so light-weight. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maximum value found while performing the conversion </dd></dl>

</div>
</div>
<a id="a13849104fb1caf34b4cfef21766564eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13849104fb1caf34b4cfef21766564eb">&#9670;&nbsp;</a></span>amplify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::amplify </td>
          <td>(</td>
          <td class="paramtype">const inputSample_t *&amp;&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>signalSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply a gain to the inputBuffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signal</td><td>Signal to be amplified </td></tr>
    <tr><td class="paramname">signalSize</td><td>Size of signal </td></tr>
    <tr><td class="paramname">gain</td><td>Gain to be applied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa768e16ee779664495158937b8acbb41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa768e16ee779664495158937b8acbb41">&#9670;&nbsp;</a></span>featuresToString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string DetectorBank::featuresToString </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Produce a human-readable string describing this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>'s features using featuresToStringMap. </p>
<dl class="section return"><dt>Returns</dt><dd>Human-readable comma-separated string descibing the features </dd></dl>

</div>
</div>
<a id="a5c23d7c47abac443b96246ac5bcfd907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c23d7c47abac443b96246ac5bcfd907">&#9670;&nbsp;</a></span>fromXML()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::fromXML </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state of the detectorbank according to a previously serialised XML description. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xml</td><td>The description of the detector bank's new state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4145c2173465a57e0c1e7ea75b9e57df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4145c2173465a57e0c1e7ea75b9e57df">&#9670;&nbsp;</a></span>getBuflen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t DetectorBank::getBuflen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find out the total number of samples currently available. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of samples in the audio buffer </dd></dl>

<p class="definition">Definition at line <a class="el" href="detectorbank_8h_source.html#l00171">171</a> of file <a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>.</p>

</div>
</div>
<a id="a68d9230ad9df9f69037d99bb6e9d0de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d9230ad9df9f69037d99bb6e9d0de7">&#9670;&nbsp;</a></span>getChans()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t DetectorBank::getChans </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of detectors currently maintained by this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of detectors </dd></dl>

<p class="definition">Definition at line <a class="el" href="detectorbank_8h_source.html#l00167">167</a> of file <a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>.</p>

</div>
</div>
<a id="a15839da3fc4a478894db346a4c4e9041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15839da3fc4a478894db346a4c4e9041">&#9670;&nbsp;</a></span>getFreqIn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parameter_t DetectorBank::getFreqIn </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the input frequency of a given channel's <a class="el" href="classAbstractDetector.html">detector</a>. </p>
<p>Returns 0 if the channel number is invalid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>Channel number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>f_in for the specified channel </dd></dl>

</div>
</div>
<a id="a313a2aed1f0c8b89fadf7ba9d41209bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313a2aed1f0c8b89fadf7ba9d41209bd">&#9670;&nbsp;</a></span>getSR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parameter_t DetectorBank::getSR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the sample rate associated with this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The current sample rate </dd></dl>

<p class="definition">Definition at line <a class="el" href="detectorbank_8h_source.html#l00163">163</a> of file <a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>.</p>

</div>
</div>
<a id="a224aaf028b6b260e99bd3846ca6a8479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224aaf028b6b260e99bd3846ca6a8479">&#9670;&nbsp;</a></span>getW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parameter_t DetectorBank::getW </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the frequency of a given channel's <a class="el" href="classAbstractDetector.html">detector</a>. </p>
<p>If the signal has been modulated and/or normalised, the adjusted frequency will be returned. Returns 0 if the channel number is invalid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>Channel number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>w = 2pi.f for the specified channel </dd></dl>

</div>
</div>
<a id="a416bb9650c4fc16f7e1a451099526eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a416bb9650c4fc16f7e1a451099526eaf">&#9670;&nbsp;</a></span>getZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DetectorBank::getZ </td>
          <td>(</td>
          <td class="paramtype">discriminator_t *&#160;</td>
          <td class="paramname"><em>frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>chans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>numFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>startChan</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next numFrames of detector bank output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frames</td><td>Output array </td></tr>
    <tr><td class="paramname">chans</td><td>Height of output array </td></tr>
    <tr><td class="paramname">numFrames</td><td>Length of output array </td></tr>
    <tr><td class="paramname">startChan</td><td>Channel from which to start </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of frames processed </dd></dl>

</div>
</div>
<a id="a1a00f3cab8aa319295a9fdc89f6dabf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a00f3cab8aa319295a9fdc89f6dabf9">&#9670;&nbsp;</a></span>getZDelegate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::getZDelegate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform one thread's worth of work on the given channels. </p>
<p>Called by <a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf" title="Get the next numFrames of detector bank output. ">getZ()</a>. Parameters are required as a pointer to a <a class="el" href="structDetectorBank_1_1GetZ__params.html" title="Struct to pass getZ thread parameters to a worker thread. ">GetZ_params</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a183f50bd00c2b0f883fe728d1454cf27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183f50bd00c2b0f883fe728d1454cf27">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Archive &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::load </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname"><em>archive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the relevant properties of the detector bank to an archive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archive</td><td>The archive from which properties should be read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10a64eaea4a8d208847c32350f09fd85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10a64eaea4a8d208847c32350f09fd85">&#9670;&nbsp;</a></span>makeDetectors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::makeDetectors </td>
          <td>(</td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>numDetectors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>sr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a>&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility routine to make the appropriate detectors and tune them according to the required feature set. </p>
<p>The detectors are pushed appended to the protected vector of detectors. Would normally only be called when then class is being constructed or deserialised. If the f is not provided (nullptr), the initial freqency is set to 0Hz in the expectation that it will be corrected later on during a deserialisation process. In this case, normalisation will also be skipped. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numDetectors</td><td>Size of the array freqs </td></tr>
    <tr><td class="paramname">mu</td><td>Criticality </td></tr>
    <tr><td class="paramname">d</td><td>Damping </td></tr>
    <tr><td class="paramname">sr</td><td>Sample rate </td></tr>
    <tr><td class="paramname">features</td><td>Type of filter and normalisation method </td></tr>
    <tr><td class="paramname">b</td><td>First Lyapunov coeffcient </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc2f1df71fac7942afd6713a6510e33e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2f1df71fac7942afd6713a6510e33e">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Archive &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::save </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname"><em>archive</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the relevant properties of the detector bank to an archive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archive</td><td>The archive to which properties should be written </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acfd74a98af7a948e22e71ca7b67d87a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd74a98af7a948e22e71ca7b67d87a4">&#9670;&nbsp;</a></span>saveProfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::saveProfile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the current profile so that a <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> can be constructed conveniently in future. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the profile </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a434f76740e76a69deb53df8e3c086f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a434f76740e76a69deb53df8e3c086f9f">&#9670;&nbsp;</a></span>seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DetectorBank::seek </td>
          <td>(</td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set input sample at which to start the detection. </p>
<p>Negative values seek from the end of the current input buffer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>New sample index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> for success; <code>false</code> if the requested offset is out of range </dd></dl>

</div>
</div>
<a id="a6aeb294eb8d3cf70d6862906edb5480a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aeb294eb8d3cf70d6862906edb5480a">&#9670;&nbsp;</a></span>setDBComponents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::setDBComponents </td>
          <td>(</td>
          <td class="paramtype">const parameter_t *&#160;</td>
          <td class="paramname"><em>frequencies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameter_t *&#160;</td>
          <td class="paramname"><em>bandwidths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>numDetectors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the <a class="el" href="structDetectorBank_1_1detector__components.html" title="Metaparameters for a detector. ">detector_components</a> required for each detector in the detector bank. </p>
<p>If the frequency requested for a detector exceeds an empirically defined constant (based on the normalization method and the type of solver in use) the results are obtained from a lower frequency detector operating on a frequency-shifted input buffer. This method initialises the dbComponents vector and generates the frequency-shifted input signals if required. </p>

</div>
</div>
<a id="aa441ae894a5df343a51777f3219e9b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa441ae894a5df343a51777f3219e9b3b">&#9670;&nbsp;</a></span>setInputBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::setInputBuffer </td>
          <td>(</td>
          <td class="paramtype">const inputSample_t *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>inputBufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the input, without recreating the detector bank. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputBuffer</td><td>New input samples </td></tr>
    <tr><td class="paramname">inputBufferSize</td><td>Length of new input </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaaa08cebbf84e16be403bde6338dfa6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa08cebbf84e16be403bde6338dfa6d">&#9670;&nbsp;</a></span>stringToFeatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorBank::stringToFeatures </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set this <a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a>'s features from a human-readable string using featuresToStringMap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desc</td><td>Human-readable feature list of comma-separated features </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Illegal feature name reading XML profile</td><td>if a feature in the list is unrecognised; </td></tr>
    <tr><td class="paramname">No valid features in feature list reading XML profile</td><td>if the feature list is empty </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2f038611e8c38403a10b3180da76a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f038611e8c38403a10b3180da76a24">&#9670;&nbsp;</a></span>tell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t DetectorBank::tell </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the index of current input sample. </p>
<dl class="section return"><dt>Returns</dt><dd>Current input sample index </dd></dl>

<p class="definition">Definition at line <a class="el" href="detectorbank_8h_source.html#l00159">159</a> of file <a class="el" href="detectorbank_8h_source.html">detectorbank.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/keziah/onsets/DetectorBank/src/<a class="el" href="detectorbank_8h_source.html">detectorbank.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
