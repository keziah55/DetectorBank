<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>A Hopf, Skip and a Jump: DetectorBank Features</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">A Hopf, Skip and a Jump
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classDetectorBank.html" title="Use multiple detectors to find note onsets at given frequencies (with multithreading). ">DetectorBank</a> Features </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Explantion and suggested usage of the <a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a> parameter of the <a class="el" href="classDetectorBank.html#aaf5d0f8c5f9f39a9ce79c8a123131ce3">DetectorBank</a>.</p>
<p>Three aspects of <a class="el" href="classDetectorBank.html#aaf5d0f8c5f9f39a9ce79c8a123131ce3">DetectorBank</a> performance are controlled by this parameter:</p>
<ul>
<li>the numerical method used in the <a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf">getZ </a> calculations</li>
<li>whether to apply frequency normalisation to the detectors</li>
<li>whether to normalise the amplitude of the output</li>
</ul>
<p>The default <a class="el" href="classDetectorBank.html#aeebad17a3b2bd334119756533e32fe3d">Features</a> set is: runge_kutta | freq_unnormalized | amp_normalized</p>
<p><b> If you want to set a bandwidth for any of the detectors (rather than using the default minimum-bandwidth detectors) you must use the Runge-Kutta method and amplitude normalisation. </b></p>
<h1><a class="anchor" id="NumericalMethod"></a>
Numerical Method</h1>
<p>Options: runge_kutta or central_difference</p>
<p>Two numerical methods are supplied: <a class="el" href="classRK4Detector.html">the fourth order Runge-Kutta method </a> and the <a class="el" href="classCDDetector.html">central difference approximation</a>. Runge-Kutta is recommended for most situations; central difference should only be used for minimum-bandwidth detectors in situations where calculation time is an important factor, as the <a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf">getZ </a> calculations will be performed roughly three times faster. If you want to set a specific detector bandwidth and/or <a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf">getZ </a> calculation time is not the most important thing, please use Runge-Kutta.</p>
<p>Using numerical approximations introduces errors as the frequencies increase. <a class="el" href="classRK4Detector.html">Runge-Kutta </a> detectors give reliable results up to higher frequencies than <a class="el" href="classCDDetector.html">central difference</a>. <a class="el" href="FeaturesExplained.html#FreqNormalisation">Frequency normalisation </a> can be used to extend the range of the detectors somewhat, without increasing execution time for a realtime input stream. <a class="el" href="FrequencyShifterOperation.html">Frequency shifting </a> is also used to extend the system bandwidth to the Nyquist frequency, although this requires the input samples to be frequency shifted, so would slow down realtime detection.</p>
<h1><a class="anchor" id="FreqNormalisation"></a>
Frequency Normalisation</h1>
<p>Options: freq_unnormalized or search_normalized</p>
<p>As discussed above, <a class="el" href="classAbstractDetector.html#a00c532ce632f1819d2f7a78441d661ae">search normalisation </a> can be used to extend the system bandwidth.</p>
<p>Search normalisation iteratively checks if other frequencies (within certain bounds from the original frequency) give a better response and, if so, adjusts the detector's characteristic frequency. This is applied at <a class="el" href="classDetectorBank.html#aaf5d0f8c5f9f39a9ce79c8a123131ce3">DetectorBank</a> construction time, so has no impact on the time taken to execute <a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf">getZ</a>.</p>
<p>Note that, as explained above, <a class="el" href="FrequencyShifterOperation.html">frequency shifting </a> is automatically applied above a given threshold, however this threshold is higher when frequency normalisation is used.</p>
<h1><a class="anchor" id="AmpNormalisation"></a>
Amplitude Normalisation</h1>
<p>Options: amp_unnormalized or amp_normalized</p>
<p>As the underlying system is nonlinear, differences in input parameters, including <a class="el" href="classDetectorBank.html#a6ca555749375643c8167ae1aaffc8e2f">bandwidth </a>, numerical method, frequency normalisation, <a class="el" href="classDetectorBank.html#ab034bc889be2b730002e21c7190485db">damping factor </a> and <a class="el" href="classDetectorBank.html#a0c9dc987508a637f19660412eeb1ed0f">gain</a> result in output amplitudes which are not linearly related to the input. This means that any analysis of the system output which relies on amplitude will be affected by detectors with different bandwidths or different gain values across multiple DetectorBanks. We therefore introduce <a class="el" href="classAbstractDetector.html#a42bbbe007c1a39a6ae952b6e60bbb188">amplitude normalisation</a>, which scales the <a class="el" href="classDetectorBank.html#a416bb9650c4fc16f7e1a451099526eaf">getZ </a> output to be in the range -1 to 1. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
